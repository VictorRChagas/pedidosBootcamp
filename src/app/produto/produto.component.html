<p-card header="Lista de Produtos">
  <div class="pb-2 m-2 text-right">
    <button [routerLink]="['form']" pButton type="button" label="Novo" class="ui-button-raised"></button>
  </div>
  <p-table  [columns]="columns" [value]="lista" (onLazyLoad)="carregarLista()" [lazy]="true" [loading]="loading">
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th *ngFor="let col of columns">
          {{col.header}}
        </th>
        <th>Ações</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-produto>
      <tr>
        <td>{{produto.descricao}}</td>
        <td>{{produto.valorUnitario}}</td>
        <td class="text-center">
          <i title="Editar" class="pi pi-pencil" [routerLink]="['form']" [queryParams]="{ id: produto.id }"></i>
          <i title="Editar" class="pi pi-trash" (click)="deleteById(produto.id)"></i>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      Sem registros.
    </ng-template>
    <ng-template pTemplate="summary">
      {{lista?.length}} produtos.
    </ng-template>
  </p-table>

  <p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>
</p-card>
